--
-- PostgreSQL database dump
--

-- Dumped from database version 17.2
-- Dumped by pg_dump version 17.2

-- Started on 2026-01-20 17:06:49

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

DROP DATABASE IF EXISTS authorise;
--
-- TOC entry 4887 (class 1262 OID 32768)
-- Name: authorise; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE authorise WITH TEMPLATE = template0 ENCODING = 'UTF8' LOCALE_PROVIDER = libc LOCALE = 'English_United States.1252';


ALTER DATABASE authorise OWNER TO postgres;

\connect authorise

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 224 (class 1259 OID 32824)
-- Name: application; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.application (
    application_id bigint NOT NULL,
    application_number character varying(10),
    application_name character varying(25),
    application_status integer,
    created_by bigint
);


ALTER TABLE public.application OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 32829)
-- Name: application_application_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.application ALTER COLUMN application_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.application_application_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 219 (class 1259 OID 32784)
-- Name: permission; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.permission (
    permission_id integer NOT NULL,
    code character varying(25),
    description character varying(50)
);


ALTER TABLE public.permission OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 32818)
-- Name: permission_permission_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.permission ALTER COLUMN permission_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.permission_permission_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 218 (class 1259 OID 32776)
-- Name: role; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.role (
    role_id integer NOT NULL,
    role_name character varying(25)
);


ALTER TABLE public.role OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 32789)
-- Name: role_permission; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.role_permission (
    role_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.role_permission OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 32817)
-- Name: role_role_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.role ALTER COLUMN role_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.role_role_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 32769)
-- Name: user; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."user" (
    user_id bigint NOT NULL,
    user_name character varying(25) NOT NULL,
    first_name character varying(25),
    last_name character varying(25),
    email text,
    password text NOT NULL,
    role_id integer NOT NULL
);


ALTER TABLE public."user" OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 32816)
-- Name: user_user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."user" ALTER COLUMN user_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.user_user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 4880 (class 0 OID 32824)
-- Dependencies: 224
-- Data for Name: application; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.application (application_id, application_number, application_name, application_status, created_by) VALUES (3, 'ZVI6FYFL', 'Second Application', 1, 3);
INSERT INTO public.application (application_id, application_number, application_name, application_status, created_by) VALUES (2, 'YX0F6CWO', 'Ricardooo...', 4, 3);


--
-- TOC entry 4875 (class 0 OID 32784)
-- Dependencies: 219
-- Data for Name: permission; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.permission (permission_id, code, description) VALUES (1, 'APPLICATION_CREATE', 'EMPLOYEE');
INSERT INTO public.permission (permission_id, code, description) VALUES (2, 'APPLICATION_EDIT', 'EMPLOYEE');
INSERT INTO public.permission (permission_id, code, description) VALUES (4, 'APPLICATION_SUBMIT', 'EMPLOYEE');
INSERT INTO public.permission (permission_id, code, description) VALUES (9, 'USER_CREATE', 'ADMIN');
INSERT INTO public.permission (permission_id, code, description) VALUES (10, 'USER_EDIT', 'ADMIN');
INSERT INTO public.permission (permission_id, code, description) VALUES (11, 'ROLE_ASSIGN', 'ADMIN');
INSERT INTO public.permission (permission_id, code, description) VALUES (13, 'USER_VIEW_ALL', 'AUDITOR');
INSERT INTO public.permission (permission_id, code, description) VALUES (14, 'ROLE_VIEW_ALL', 'AUDITOR');
INSERT INTO public.permission (permission_id, code, description) VALUES (12, 'APPLICATION_VIEW_ALL', 'AUDITOR / MANAGER / EMPLOYEE');
INSERT INTO public.permission (permission_id, code, description) VALUES (6, 'APPLICATION_ACTION', 'MANAGER');
INSERT INTO public.permission (permission_id, code, description) VALUES (3, 'APPLICATION_VIEW', 'MANAGER / EMPLOYEE');


--
-- TOC entry 4874 (class 0 OID 32776)
-- Dependencies: 218
-- Data for Name: role; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.role (role_id, role_name) VALUES (1, 'ADMIN');
INSERT INTO public.role (role_id, role_name) VALUES (2, 'EMPLOYEE');
INSERT INTO public.role (role_id, role_name) VALUES (3, 'MANAGER');
INSERT INTO public.role (role_id, role_name) VALUES (5, 'AUDITOR');


--
-- TOC entry 4876 (class 0 OID 32789)
-- Dependencies: 220
-- Data for Name: role_permission; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.role_permission (role_id, permission_id) VALUES (2, 1);
INSERT INTO public.role_permission (role_id, permission_id) VALUES (2, 2);
INSERT INTO public.role_permission (role_id, permission_id) VALUES (2, 3);
INSERT INTO public.role_permission (role_id, permission_id) VALUES (2, 4);
INSERT INTO public.role_permission (role_id, permission_id) VALUES (2, 12);
INSERT INTO public.role_permission (role_id, permission_id) VALUES (3, 3);
INSERT INTO public.role_permission (role_id, permission_id) VALUES (3, 6);
INSERT INTO public.role_permission (role_id, permission_id) VALUES (3, 12);
INSERT INTO public.role_permission (role_id, permission_id) VALUES (1, 9);
INSERT INTO public.role_permission (role_id, permission_id) VALUES (5, 12);
INSERT INTO public.role_permission (role_id, permission_id) VALUES (5, 13);
INSERT INTO public.role_permission (role_id, permission_id) VALUES (5, 14);


--
-- TOC entry 4873 (class 0 OID 32769)
-- Dependencies: 217
-- Data for Name: user; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public."user" (user_id, user_name, first_name, last_name, email, password, role_id) VALUES (3, 'admin', 'Balasubramanya', 'N', 'test@test.com', '$2a$11$bgDXrDXQ88hYKPPwToJynuTnis.mj7N8M/ta.yBOu/2jbhF6RLLcK', 1);
INSERT INTO public."user" (user_id, user_name, first_name, last_name, email, password, role_id) VALUES (4, 'auditor', 'Prateek', 'K', 'test@test.com', '$2a$11$oxtMpiO6QhAJGROg6IkIleHYcP/fZoebES9R.SOv8VqRj5Qp7TOhC', 5);
INSERT INTO public."user" (user_id, user_name, first_name, last_name, email, password, role_id) VALUES (5, 'employee', 'Gurunath', 'H', 'test@test.com', '$2a$11$PWeK9wg/8FoVBq3irOG2rOc5Q1LGw6CTcnP9V0VXVmn6Llcm3CHjS', 2);
INSERT INTO public."user" (user_id, user_name, first_name, last_name, email, password, role_id) VALUES (6, 'manager', 'Jayachandra', 'G', 'test@test.com', '$2a$11$4NaOWnUGK0Y1gkm46QLPU./DwXwFS0NdbLmYtPpdqTyUQFBykyjVS', 3);


--
-- TOC entry 4888 (class 0 OID 0)
-- Dependencies: 225
-- Name: application_application_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.application_application_id_seq', 3, true);


--
-- TOC entry 4889 (class 0 OID 0)
-- Dependencies: 223
-- Name: permission_permission_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.permission_permission_id_seq', 16, true);


--
-- TOC entry 4890 (class 0 OID 0)
-- Dependencies: 222
-- Name: role_role_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.role_role_id_seq', 5, true);


--
-- TOC entry 4891 (class 0 OID 0)
-- Dependencies: 221
-- Name: user_user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.user_user_id_seq', 6, true);


--
-- TOC entry 4723 (class 2606 OID 32828)
-- Name: application application_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.application
    ADD CONSTRAINT application_pkey PRIMARY KEY (application_id);


--
-- TOC entry 4719 (class 2606 OID 32788)
-- Name: permission permission_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.permission
    ADD CONSTRAINT permission_pkey PRIMARY KEY (permission_id);


--
-- TOC entry 4721 (class 2606 OID 32815)
-- Name: role_permission role_permission_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role_permission
    ADD CONSTRAINT role_permission_pkey PRIMARY KEY (role_id, permission_id);


--
-- TOC entry 4717 (class 2606 OID 32780)
-- Name: role role_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_pkey PRIMARY KEY (role_id);


--
-- TOC entry 4715 (class 2606 OID 32775)
-- Name: user user_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_pkey PRIMARY KEY (user_id);


--
-- TOC entry 4727 (class 2606 OID 32830)
-- Name: application fk_application_created_by; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.application
    ADD CONSTRAINT fk_application_created_by FOREIGN KEY (created_by) REFERENCES public."user"(user_id);


--
-- TOC entry 4725 (class 2606 OID 32807)
-- Name: role_permission fk_role_permission_permission; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role_permission
    ADD CONSTRAINT fk_role_permission_permission FOREIGN KEY (permission_id) REFERENCES public.permission(permission_id) ON DELETE CASCADE;


--
-- TOC entry 4726 (class 2606 OID 32802)
-- Name: role_permission fk_role_permission_role; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role_permission
    ADD CONSTRAINT fk_role_permission_role FOREIGN KEY (role_id) REFERENCES public.role(role_id) ON DELETE CASCADE;


--
-- TOC entry 4724 (class 2606 OID 32819)
-- Name: user fk_user_role; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT fk_user_role FOREIGN KEY (role_id) REFERENCES public.role(role_id);


-- Completed on 2026-01-20 17:06:50

--
-- PostgreSQL database dump complete
--

